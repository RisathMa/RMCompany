<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RMImageTOText</title>

        <link href="https://fonts.googleapis.com/css2?family=Ancizar+Serif:ital,wght@0,300..900;1,300..900&display=swap" rel="stylesheet">


<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Oswald:wght@200..700&display=swap" rel="stylesheet">

<style>
@import url('https://fonts.googleapis.com/css2?family=Oswald:wght@200..700&display=swap');
</style>

<style>
@import url('https://fonts.googleapis.com/css2?family=Ancizar+Serif:ital,wght@0,300..900;1,300..900&display=swap');
</style>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Merriweather:ital,opsz,wght@0,18..144,300..900;1,18..144,300..900&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tesseract.js/4.1.1/tesseract.min.js"></script>

<style>
@import url('https://fonts.googleapis.com/css2?family=Merriweather:ital,opsz,wght@0,18..144,300..900;1,18..144,300..900&display=swap');
</style>

    <style>
        :root {
            --primary-color: #3498db;
            --secondary-color: #2980b9;
            --light-color: #ecf0f1;
            --dark-color: #2c3e50;
            --success-color: #2ecc71;
            --warning-color: #f39c12;
            --error-color: #e74c3c;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #f5f7fa;
            padding: 20px;
            max-width: 1000px;
            margin: 0 auto;
        }
.browse-btn1 {
    display: inline-block;
    background-color: rgb(42, 61, 67);
    color: white;
    padding: 10px 20px;
    border-radius: 20px; /* Changed to 330px */
    text-decoration: none;
    font-weight: bold;
    margin-bottom: 10px;
    transform: translateY(25px)
}

.browse-btn1:hover {
    background-color: rgb(0, 0, 0);
}
        header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background-color: var(--light-color);
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        h1 {
            font-family: "Ancizar Serif", serif;
            text-align: center;
            color: #2c3e50;
            margin-bottom: 2rem;
            font-weight: 600;
        }

        .description {
            color: #555;
            margin-bottom: 20px;
        }

        .container {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .upload-section, .result-section {
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .upload-container {
            
            position: relative;
            border: 2px dashed #ddd;
            border-radius: 8px;
            padding: 60px 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
        }

        .upload-container:hover {
            border-color: var(--primary-color);
            background-color: rgba(52, 152, 219, 0.05);
        }

        .upload-container input {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            opacity: 0;
            cursor: pointer;
        }

        .upload-icon {
            font-size: 48px;
            color: var(--primary-color);
            margin-bottom: 15px;
        }

        .upload-text {
            color: #555;
            margin-bottom: 10px;
        }

        .file-info {
              font-family: "Merriweather", serif;
            color: #888;
            font-size: 14px;
        }

        .preview-container {
            margin-top: 20px;
            display: none;
            flex-direction: column;
            align-items: center;
        }

        .preview-image {
            max-width: 100%;
            max-height: 300px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .actions {
            display: flex;
            justify-content: center;
            margin-top: 20px;
            gap: 10px;
        }

        button {
            padding: 10px 20px;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-weight: 600;
            transition: background-color 0.3s;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        button:hover {
            background-color: var(--secondary-color);
        }

        button:disabled {
            background-color: #ccc;
            cursor: not-allowed;
        }

        .button-icon {
            font-size: 16px;
        }

        .progress-container {
            display: none;
            margin-top: 20px;
            width: 100%;
        }

        progress {
            width: 100%;
            height: 10px;
            border-radius: 5px;
            overflow: hidden;
        }

        .status {
            margin-top: 10px;
            text-align: center;
            color: #555;
        }

        .result-section {
            display: none;
        }

        .result-text {
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 4px;
            height: 300px;
            overflow-y: auto;
            margin-bottom: 20px;
            font-size: 16px;
            line-height: 1.6;
            background-color: var(--light-color);
            white-space: pre-wrap;
        }

        .result-actions {
            display: flex;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: 10px;
        }

        .language-select {
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            background-color: white;
        }

        .copy-success {
            color: var(--success-color);
            margin-top: 10px;
            text-align: center;
            display: none;
        }

        .error {
            color: var(--error-color);
            text-align: center;
            margin-top: 10px;
            display: none;
        }

        @media (max-width: 768px) {
            .result-actions {
                flex-direction: column;
            }
            
            .result-actions button,
            .result-actions select {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <center>
<a href="https://companyrm.lk/index(Products)%20-%20AfterLog.html" class="browse-btn1">Home</a>
  </center>
    <header>
        <h1>RM Image To Text Extractor</h1>
        <p class="description">Upload An Image to extract the text using client-side OCR.</p>
    </header>

    <div class="container">
        <section class="upload-section">
            <h2>Upload Document Image</h2>
            <div class="upload-container" id="upload-container">
                <input type="file" id="file-input" accept="image/*">
                <div class="upload-icon">üìÑ</div>
                <p class="upload-text">Click to upload or drag and drop</p>
                <p class="file-info">Supports JPG, PNG, BMP, etc.</p>
            </div>
            
            <div class="preview-container" id="preview-container">
                <img class="preview-image" id="preview-image" alt="Document preview">
                <div class="actions">
                    <button id="extract-button">
                        <span class="button-icon">üîç</span> Extract Text
                    </button>
                    <button id="change-image-button">
                        <span class="button-icon">üîÑ</span> Change Image
                    </button>
                </div>
            </div>
            
            <div class="progress-container" id="progress-container">
                <progress id="progress-bar" value="0" max="100"></progress>
                <p class="status" id="status-text">Processing...</p>
            </div>
            
            <p class="error" id="upload-error"></p>
        </section>
        
        <section class="result-section" id="result-section">
            <h2>Extracted Text</h2>
            <div class="result-text" id="result-text"></div>
            
            <div class="result-actions">
                <button id="copy-button">
                    <span class="button-icon">üìã</span> Copy Text
                </button>
                
                <select class="language-select" id="language-select">
                    <option value="en">English</option>
                    <option value="es">Spanish</option>
                    <option value="fr">French</option>
                    <option value="de">German</option>
                    <option value="it">Italian</option>
                    <option value="pt">Portuguese</option>
                    <option value="ru">Russian</option>
                    <option value="zh">Chinese</option>
                    <option value="ja">Japanese</option>
                    <option value="ko">Korean</option>
                </select>
                
                <button id="translate-button">
                    <span class="button-icon">üåê</span> Translate
                </button>
                
                <button id="speak-button">
                    <span class="button-icon">üîä</span> Speak Text
                </button>
            </div>
            
            <p class="copy-success" id="copy-success">Text copied to clipboard!</p>
            <p class="error" id="result-error"></p>
        </section>
    </div>

    <script>
        // Elements
        const fileInput = document.getElementById('file-input');
        const uploadContainer = document.getElementById('upload-container');
        const previewContainer = document.getElementById('preview-container');
        const previewImage = document.getElementById('preview-image');
        const extractButton = document.getElementById('extract-button');
        const changeImageButton = document.getElementById('change-image-button');
        const progressContainer = document.getElementById('progress-container');
        const progressBar = document.getElementById('progress-bar');
        const statusText = document.getElementById('status-text');
        const resultSection = document.getElementById('result-section');
        const resultText = document.getElementById('result-text');
        const copyButton = document.getElementById('copy-button');
        const translateButton = document.getElementById('translate-button');
        const speakButton = document.getElementById('speak-button');
        const languageSelect = document.getElementById('language-select');
        const copySuccess = document.getElementById('copy-success');
        const uploadError = document.getElementById('upload-error');
        const resultError = document.getElementById('result-error');

        // Variables
        let selectedFile = null;
        let extractedText = "";
        let translation = "";
        let speakInstance = null;
        
        // Event listeners
        fileInput.addEventListener('change', handleFileSelect);
        extractButton.addEventListener('click', extractText);
        changeImageButton.addEventListener('click', resetUpload);
        copyButton.addEventListener('click', copyText);
        translateButton.addEventListener('click', translateText);
        speakButton.addEventListener('click', speakText);
        
        // Handle drag and drop
        uploadContainer.addEventListener('dragover', (e) => {
            e.preventDefault();
            uploadContainer.style.borderColor = '#3498db';
            uploadContainer.style.backgroundColor = 'rgba(52, 152, 219, 0.1)';
        });
        
        uploadContainer.addEventListener('dragleave', (e) => {
            e.preventDefault();
            uploadContainer.style.borderColor = '#ddd';
            uploadContainer.style.backgroundColor = 'transparent';
        });
        
        uploadContainer.addEventListener('drop', (e) => {
            e.preventDefault();
            uploadContainer.style.borderColor = '#ddd';
            uploadContainer.style.backgroundColor = 'transparent';
            
            if (e.dataTransfer.files.length) {
                fileInput.files = e.dataTransfer.files;
                handleFileSelect();
            }
        });

        // Functions
        function handleFileSelect() {
            hideError();
            
            if (fileInput.files.length === 0) {
                return;
            }
            
            selectedFile = fileInput.files[0];
            
            // Check if file is an image
            if (!selectedFile.type.match('image.*')) {
                showError('Please select an image file.', uploadError);
                return;
            }
            
            // Check if file size is less than 10MB
            if (selectedFile.size > 10 * 1024 * 1024) {
                showError('File size should be less than 10MB.', uploadError);
                return;
            }
            
            // Display preview
            const reader = new FileReader();
            reader.onload = function(e) {
                previewImage.src = e.target.result;
                previewContainer.style.display = 'flex';
                uploadContainer.style.display = 'none';
            };
            reader.readAsDataURL(selectedFile);
        }

        function resetUpload() {
            fileInput.value = '';
            selectedFile = null;
            previewContainer.style.display = 'none';
            uploadContainer.style.display = 'block';
            resultSection.style.display = 'none';
            extractedText = "";
            translation = "";
            hideError();
        }

        function extractText() {
            if (!selectedFile) {
                showError('Please select an image file.', uploadError);
                return;
            }
            
            progressContainer.style.display = 'block';
            extractButton.disabled = true;
            changeImageButton.disabled = true;
            hideError();
            
            // Initialize Tesseract.js
            Tesseract.recognize(
                selectedFile,
                'eng', // Language
                {
                    logger: (m) => {
                        if (m.status === 'recognizing text') {
                            progressBar.value = m.progress * 100;
                            statusText.textContent = `Processing: ${Math.round(m.progress * 100)}%`;
                        } else {
                            statusText.textContent = capitalizeFirstLetter(m.status);
                        }
                    }
                }
            ).then(({ data: { text } }) => {
                extractedText = text;
                resultText.textContent = extractedText;
                resultSection.style.display = 'block';
                progressContainer.style.display = 'none';
                extractButton.disabled = false;
                changeImageButton.disabled = false;
                statusText.textContent = 'Processing complete!';
            }).catch(err => {
                console.error('OCR Error:', err);
                showError('Failed to extract text. Please try another image.', uploadError);
                progressContainer.style.display = 'none';
                extractButton.disabled = false;
                changeImageButton.disabled = false;
            });
        }

        function copyText() {
            const textToCopy = translation || extractedText;
            
            if (!textToCopy) {
                showError('No text to copy.', resultError);
                return;
            }
            
            navigator.clipboard.writeText(textToCopy)
                .then(() => {
                    copySuccess.style.display = 'block';
                    setTimeout(() => {
                        copySuccess.style.display = 'none';
                    }, 2000);
                })
                .catch(err => {
                    console.error('Copy failed:', err);
                    showError('Failed to copy text.', resultError);
                });
        }

        function translateText() {
            if (!extractedText) {
                showError('No text to translate.', resultError);
                return;
            }
            
            const targetLang = languageSelect.value;
            
            // Show status
            statusText.textContent = 'Translating...';
            progressContainer.style.display = 'block';
            translateButton.disabled = true;
            
            // Using the free MyMemory Translation API
            // Note: This has limitations and is meant for demonstration
            fetch(`https://api.mymemory.translated.net/get?q=${encodeURIComponent(extractedText)}&langpair=en|${targetLang}`)
                .then(response => response.json())
                .then(data => {
                    if (data.responseData) {
                        translation = data.responseData.translatedText;
                        resultText.textContent = translation;
                        progressContainer.style.display = 'none';
                        translateButton.disabled = false;
                    } else {
                        throw new Error('Translation failed');
                    }
                })
                .catch(err => {
                    console.error('Translation Error:', err);
                    showError('Translation failed. Please try again later.', resultError);
                    progressContainer.style.display = 'none';
                    translateButton.disabled = false;
                });
        }

        function speakText() {
            const textToSpeak = translation || extractedText;
            
            if (!textToSpeak) {
                showError('No text to speak.', resultError);
                return;
            }
            
            // If already speaking, stop it
            if (window.speechSynthesis.speaking) {
                window.speechSynthesis.cancel();
                speakButton.innerHTML = '<span class="button-icon">üîä</span> Speak Text';
                return;
            }
            
            // Create speech synthesis utterance
            const utterance = new SpeechSynthesisUtterance(textToSpeak);
            
            // Set language
            if (translation) {
                utterance.lang = languageSelect.value;
            } else {
                utterance.lang = 'en-US';
            }
            
            // Set events
            utterance.onstart = () => {
                speakButton.innerHTML = '<span class="button-icon">‚èπÔ∏è</span> Stop';
            };
            
            utterance.onend = () => {
                speakButton.innerHTML = '<span class="button-icon">üîä</span> Speak Text';
            };
            
            utterance.onerror = (event) => {
                speakButton.innerHTML = '<span class="button-icon">üîä</span> Speak Text';
                showError('Failed to speak text.', resultError);
            };
            
            // Speak
            window.speechSynthesis.speak(utterance);
        }

        function showError(message, element) {
            element.textContent = message;
            element.style.display = 'block';
        }

        function hideError() {
            uploadError.style.display = 'none';
            resultError.style.display = 'none';
        }

        function capitalizeFirstLetter(string) {
            return string.charAt(0).toUpperCase() + string.slice(1);
        }
    </script>


<!-- Endcription -->

 <script>
    // Disable Right Click
    document.addEventListener('contextmenu', event => event.preventDefault());

    // Disable F12, Ctrl+Shift+I, Ctrl+U, Ctrl+Shift+C
    document.onkeydown = function (e) {
      if (
        e.key === "F12" ||
        (e.ctrlKey && e.shiftKey && (e.key === "I" || e.key === "J" || e.key === "C")) ||
        (e.ctrlKey && e.key === "U")
      ) {
        return false;
      }
    };

    // Detect if DevTools is open
    const element = new Image();
    Object.defineProperty(element, 'id', {
      get: function () {
        alert("DevTools is open. Site functionality may be limited.");
      }
    });
    console.log('%c', element);
  </script>
    

</body>
</html>